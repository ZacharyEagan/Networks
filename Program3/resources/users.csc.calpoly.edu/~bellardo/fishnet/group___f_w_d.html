<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Fishnet: Forwarding Table</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Forwarding Table</h1>
<p>Functions, data types, and constants for interacting with the fishnode forwarding table.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfishnet__fwtable__functions.html">fishnet_fwtable_functions</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A structure that contains function pointers for all fowarding table operations, such as lookup and insertion.  <a href="structfishnet__fwtable__functions.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#gad8f4bad74bf4a3cf2b68383bf701ebcf">FISH_FWD_TYPE_CONNECTED</a>&nbsp;&nbsp;&nbsp;'C'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type constant for a directly connected route.  <a href="#gad8f4bad74bf4a3cf2b68383bf701ebcf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga9d399caf631df98e3cc0f2d2cc0ba600">FISH_FWD_TYPE_LOOPBACK</a>&nbsp;&nbsp;&nbsp;'L'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type constant for a loopback route.  <a href="#ga9d399caf631df98e3cc0f2d2cc0ba600"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga735cad98d545f8f5336b6474c2f60a24">FISH_FWD_TYPE_BROADCAST</a>&nbsp;&nbsp;&nbsp;'B'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type constant for a broadcast route.  <a href="#ga735cad98d545f8f5336b6474c2f60a24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga83c1e7601980e84b2468574df65be5de">FISH_FWD_TYPE_DV</a>&nbsp;&nbsp;&nbsp;'D'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type constant for a distance-vector route.  <a href="#ga83c1e7601980e84b2468574df65be5de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga560bd15eade4a6d593711f3ef85b238c">FISH_FWD_TYPE_LS</a>&nbsp;&nbsp;&nbsp;'Z'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type constant for a link-state route.  <a href="#ga560bd15eade4a6d593711f3ef85b238c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga302c3f18d2036578d081ddbcdb3dcb74">FISH_FWD_TYPE_NEIGHBOR</a>&nbsp;&nbsp;&nbsp;'N'</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The type constant for routes learned through the neighbor protocol.  <a href="#ga302c3f18d2036578d081ddbcdb3dcb74"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#gad76a3743f2c2e2786f4e1d67967f9ebb">fwtable_iterator_cb</a> )(void *callback_data, <a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> dest, int prefix_len, <a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> next_hop, int metric, void *entry_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function signature for the fwtable interation callback.  <a href="#gad76a3743f2c2e2786f4e1d67967f9ebb"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga544a485ea0bf41955e4cd266520c5e97">fish_print_forwarding_table</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function prints the contents of the forwarding table as maintained by the built-in forwarding table.  <a href="#ga544a485ea0bf41955e4cd266520c5e97"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga6deb1c60e84ff3a0ddc2d113c9cfe10a">fishnet_fwtable_functions::add_fwtable_entry</a> )(<a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> dst, int prefix_length, <a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> next_hop, int metric, char type, void *user_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an entry into the forwarding table.  <a href="#ga6deb1c60e84ff3a0ddc2d113c9cfe10a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga45d17e75ff6952a46b63bb31d8c8106c">fishnet_fwtable_functions::remove_fwtable_entry</a> )(void *route_key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Completely removes an entry from the forwarding table.  <a href="#ga45d17e75ff6952a46b63bb31d8c8106c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga38104f0d255f68c5c8a410e898544dd8">fishnet_fwtable_functions::update_fwtable_metric</a> )(void *route_key, int new_metric)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates the metric for the given entry key.  <a href="#ga38104f0d255f68c5c8a410e898544dd8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#gab932daf0625a2e59416f153e8c644cb5">fishnet_fwtable_functions::longest_prefix_match</a> )(<a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> addr)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Performs a longest prefix lookup for the given destination address.  <a href="#gab932daf0625a2e59416f153e8c644cb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#ga31007a4d3457baa60774b6bf4b17b89d">fishnet_fwtable_functions::user_data</a> )(<a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> addr, int prefix_len, char type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Looks up the user data void* originally stored when the route was added to the forwarding table.  <a href="#ga31007a4d3457baa60774b6bf4b17b89d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#gabfcfb3cd24b5ae49a5f3ffd48979d9c5">fishnet_fwtable_functions::iterate_entries</a> )(<a class="el" href="group___f_w_d.html#gad76a3743f2c2e2786f4e1d67967f9ebb">fwtable_iterator_cb</a> callback, void *callback_param, char type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterates over all entries in the forwarding table of the given type. Calls the user-supplied callback function for each entry.  <a href="#gabfcfb3cd24b5ae49a5f3ffd48979d9c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfishnet__fwtable__functions.html">fishnet_fwtable_functions</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___f_w_d.html#gada0880c23fd16c350788f3b06ea2aa6b">fish_fwd</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A structure that contains function pointers for all fowarding table operations, such as lookup and insertion.  <a href="#gada0880c23fd16c350788f3b06ea2aa6b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions, data types, and constants for interacting with the fishnode forwarding table. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga735cad98d545f8f5336b6474c2f60a24"></a><!-- doxytag: member="fish.h::FISH_FWD_TYPE_BROADCAST" ref="ga735cad98d545f8f5336b6474c2f60a24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FISH_FWD_TYPE_BROADCAST&nbsp;&nbsp;&nbsp;'B'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type constant for a broadcast route. </p>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00942">942</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad8f4bad74bf4a3cf2b68383bf701ebcf"></a><!-- doxytag: member="fish.h::FISH_FWD_TYPE_CONNECTED" ref="gad8f4bad74bf4a3cf2b68383bf701ebcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FISH_FWD_TYPE_CONNECTED&nbsp;&nbsp;&nbsp;'C'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type constant for a directly connected route. </p>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00938">938</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga83c1e7601980e84b2468574df65be5de"></a><!-- doxytag: member="fish.h::FISH_FWD_TYPE_DV" ref="ga83c1e7601980e84b2468574df65be5de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FISH_FWD_TYPE_DV&nbsp;&nbsp;&nbsp;'D'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type constant for a distance-vector route. </p>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00944">944</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d399caf631df98e3cc0f2d2cc0ba600"></a><!-- doxytag: member="fish.h::FISH_FWD_TYPE_LOOPBACK" ref="ga9d399caf631df98e3cc0f2d2cc0ba600" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FISH_FWD_TYPE_LOOPBACK&nbsp;&nbsp;&nbsp;'L'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type constant for a loopback route. </p>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00940">940</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga560bd15eade4a6d593711f3ef85b238c"></a><!-- doxytag: member="fish.h::FISH_FWD_TYPE_LS" ref="ga560bd15eade4a6d593711f3ef85b238c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FISH_FWD_TYPE_LS&nbsp;&nbsp;&nbsp;'Z'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type constant for a link-state route. </p>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00946">946</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga302c3f18d2036578d081ddbcdb3dcb74"></a><!-- doxytag: member="fish.h::FISH_FWD_TYPE_NEIGHBOR" ref="ga302c3f18d2036578d081ddbcdb3dcb74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FISH_FWD_TYPE_NEIGHBOR&nbsp;&nbsp;&nbsp;'N'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The type constant for routes learned through the neighbor protocol. </p>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00948">948</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="gad76a3743f2c2e2786f4e1d67967f9ebb"></a><!-- doxytag: member="fish.h::fwtable_iterator_cb" ref="gad76a3743f2c2e2786f4e1d67967f9ebb" args=")(void *callback_data, fnaddr_t dest, int prefix_len, fnaddr_t next_hop, int metric, void *entry_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="group___f_w_d.html#gad76a3743f2c2e2786f4e1d67967f9ebb">fwtable_iterator_cb</a>)(void *callback_data, <a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> dest, int prefix_len, <a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> next_hop, int metric, void *entry_data)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function signature for the fwtable interation callback. </p>
<ul>
<li><code>callback_data</code> An opaque pointer passed in via the <a class="el" href="group___f_w_d.html#gabfcfb3cd24b5ae49a5f3ffd48979d9c5" title="Iterates over all entries in the forwarding table of the given type. Calls the user-supplied...">fishnet_fwtable_functions::iterate_entries</a> function. </li>
<li><code>dest</code> The final destination of this route. </li>
<li><code>prefix_length</code> The prefix length for the route (e.g., 32 for a /32). </li>
<li><code>next_hop</code> The next_hop for this entry in the forwarding table. </li>
<li><code>metric</code> The metric for this entry in the forwarding table. </li>
<li><code>entry_data</code> The user_data provided when adding the entry to the forwarding table. This is NOT the same as the callback_data, which is passed in via <a class="el" href="group___f_w_d.html#gabfcfb3cd24b5ae49a5f3ffd48979d9c5" title="Iterates over all entries in the forwarding table of the given type. Calls the user-supplied...">fishnet_fwtable_functions::iterate_entries</a>. <dl class="return"><dt><b>Returns:</b></dt><dd>The callback should return 0 (false) if the entry is to be kept in the forwarding table and true (1) if it is to be deleted. Do not call <a class="el" href="group___f_w_d.html#ga45d17e75ff6952a46b63bb31d8c8106c" title="Completely removes an entry from the forwarding table.">fishnet_fwtable_functions::remove_fwtable_entry</a> from within the callback. </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="fish_8h_source.html#l00965">965</a> of file <a class="el" href="fish_8h_source.html">fish.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga544a485ea0bf41955e4cd266520c5e97"></a><!-- doxytag: member="fish.h::fish_print_forwarding_table" ref="ga544a485ea0bf41955e4cd266520c5e97" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fish_print_forwarding_table </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function prints the contents of the forwarding table as maintained by the built-in forwarding table. </p>
<p>This function is meant as a debugging and development aid to help you understand why your node is not working correctly. It only displays the contents of the built-in forwarding table. If you provide your own forwarding table implementation this function is useless. </p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga6deb1c60e84ff3a0ddc2d113c9cfe10a"></a><!-- doxytag: member="fishnet_fwtable_functions::add_fwtable_entry" ref="ga6deb1c60e84ff3a0ddc2d113c9cfe10a" args=")(fnaddr_t dst, int prefix_length, fnaddr_t next_hop, int metric, char type, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* <a class="el" href="group___f_w_d.html#ga6deb1c60e84ff3a0ddc2d113c9cfe10a">fishnet_fwtable_functions::add_fwtable_entry</a>)(<a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> dst, int prefix_length, <a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> next_hop, int metric, char type, void *user_data)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add an entry into the forwarding table. </p>
<ul>
<li><code>dst</code> The final destination of the route. </li>
<li><code>prefix_length</code> The prefix length for the route (e.g., 32 for a /32).  <code>next_hop</code> The immediate neighbor through which to send the frame to get to the final destination. </li>
<li><code>metric</code> The metric for this route. Lower is better. No metric can be less than 0. </li>
<li><code>type</code> Indicates where this route was learned. Should be one of the FISH_FWD_TYPE_* constants. </li>
<li><code>user_data</code> A user specified pointer that is stored with the route. This can be used to store additional protocol specific data. <dl class="return"><dt><b>Returns:</b></dt><dd>An obaque key needed when making modifications (metric changes or deletions) to this route in the future.</dd></dl>
This function adds the given route, as described by the function's parameters, entry into the forwarding table. There may be multiple routes to the same destination and prefix length. In that case all routes are stored in the forwarding table, however only the route with the smallest metric is returned by <a class="el" href="group___f_w_d.html#gab932daf0625a2e59416f153e8c644cb5" title="Performs a longest prefix lookup for the given destination address.">fishnet_fwtable_functions::longest_prefix_match</a>.</li>
</ul>
<p>The return value must be stored and used to remove / modify routes. </p>

</div>
</div>
<a class="anchor" id="gada0880c23fd16c350788f3b06ea2aa6b"></a><!-- doxytag: member="fish.h::fish_fwd" ref="gada0880c23fd16c350788f3b06ea2aa6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfishnet__fwtable__functions.html">fishnet_fwtable_functions</a>  <a class="el" href="group___f_w_d.html#gada0880c23fd16c350788f3b06ea2aa6b">fish_fwd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A structure that contains function pointers for all fowarding table operations, such as lookup and insertion. </p>
<p>This structure contains function pointers that manipulate the fishnode's forwarding table. The pointers are initialized to point to the built-in implementation of the functions. These are provided as function pointers to allow the fishnode to override the built-in implementations with its own implementation(s).</p>
<p>There is a single instance of this structure in a fishnode. It is a global variable named fish_fwd. You can access the fields directly in any portion of your code (e.g., fish_fwd.longest_prefix_match = NULL) to change the value of the function pointers or to call them. Do not declare an instance of this structure yourself. </p>

</div>
</div>
<a class="anchor" id="gabfcfb3cd24b5ae49a5f3ffd48979d9c5"></a><!-- doxytag: member="fishnet_fwtable_functions::iterate_entries" ref="gabfcfb3cd24b5ae49a5f3ffd48979d9c5" args=")(fwtable_iterator_cb callback, void *callback_param, char type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="group___f_w_d.html#gabfcfb3cd24b5ae49a5f3ffd48979d9c5">fishnet_fwtable_functions::iterate_entries</a>)(<a class="el" href="group___f_w_d.html#gad76a3743f2c2e2786f4e1d67967f9ebb">fwtable_iterator_cb</a> callback, void *callback_param, char type)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Iterates over all entries in the forwarding table of the given type. Calls the user-supplied callback function for each entry. </p>
<ul>
<li><code>callback</code> The function to call for each entry. </li>
<li><code>callback_param</code> The void* value to pass as the first parameter to the callback. </li>
<li><code>type</code> Type used when adding the route to the forwarding table. Should be one of the FISH_FWD_TYPE_* constants. </li>
</ul>

</div>
</div>
<a class="anchor" id="gab932daf0625a2e59416f153e8c644cb5"></a><!-- doxytag: member="fishnet_fwtable_functions::longest_prefix_match" ref="gab932daf0625a2e59416f153e8c644cb5" args=")(fnaddr_t addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a>(* <a class="el" href="group___f_w_d.html#gab932daf0625a2e59416f153e8c644cb5">fishnet_fwtable_functions::longest_prefix_match</a>)(<a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> addr)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs a longest prefix lookup for the given destination address. </p>
<ul>
<li><code>addr</code> The address to lookup <dl class="return"><dt><b>Returns:</b></dt><dd>The L3 address of the best next-hop option, or an invalid L3 address (0) if no entry matches the destination. </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ga45d17e75ff6952a46b63bb31d8c8106c"></a><!-- doxytag: member="fishnet_fwtable_functions::remove_fwtable_entry" ref="ga45d17e75ff6952a46b63bb31d8c8106c" args=")(void *route_key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* <a class="el" href="group___f_w_d.html#ga45d17e75ff6952a46b63bb31d8c8106c">fishnet_fwtable_functions::remove_fwtable_entry</a>)(void *route_key)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Completely removes an entry from the forwarding table. </p>
<ul>
<li><code>route_key</code> The key for the entry to be removed. The key is obtained via the return result from the <a class="el" href="group___f_w_d.html#ga6deb1c60e84ff3a0ddc2d113c9cfe10a" title="Add an entry into the forwarding table.">fishnet_fwtable_functions::add_fwtable_entry</a> function. <dl class="return"><dt><b>Returns:</b></dt><dd>The user_data value originally added into the forwarding table for the deleted entry. </dd></dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="ga38104f0d255f68c5c8a410e898544dd8"></a><!-- doxytag: member="fishnet_fwtable_functions::update_fwtable_metric" ref="ga38104f0d255f68c5c8a410e898544dd8" args=")(void *route_key, int new_metric)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="group___f_w_d.html#ga38104f0d255f68c5c8a410e898544dd8">fishnet_fwtable_functions::update_fwtable_metric</a>)(void *route_key, int new_metric)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the metric for the given entry key. </p>
<ul>
<li><code>route_key</code> The key for the entry to be updated. The key is obtained via the return result from the <a class="el" href="group___f_w_d.html#ga6deb1c60e84ff3a0ddc2d113c9cfe10a" title="Add an entry into the forwarding table.">fishnet_fwtable_functions::add_fwtable_entry</a> function. </li>
<li><code>new_metric</code> The new metric value. <dl class="return"><dt><b>Returns:</b></dt><dd>True or false if the update succeeds or fails, respectively.</dd></dl>
This function is provided as an optimization. The same thing can be achieved by removing then entry and then adding it back in again, however calling update is computationally much cheaper. </li>
</ul>

</div>
</div>
<a class="anchor" id="ga31007a4d3457baa60774b6bf4b17b89d"></a><!-- doxytag: member="fishnet_fwtable_functions::user_data" ref="ga31007a4d3457baa60774b6bf4b17b89d" args=")(fnaddr_t addr, int prefix_len, char type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* <a class="el" href="group___f_w_d.html#ga31007a4d3457baa60774b6bf4b17b89d">fishnet_fwtable_functions::user_data</a>)(<a class="el" href="group___l3.html#ga56eb193582cf90391b0719f7ec51bde1">fnaddr_t</a> addr, int prefix_len, char type)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Looks up the user data void* originally stored when the route was added to the forwarding table. </p>
<ul>
<li><code>addr</code> The address to lookup </li>
<li><code>prefix_length</code> The prefix length for the route (e.g., 32 for a /32). </li>
<li><code>type</code> Type used when adding the route to the forwarding table. Should be one of the FISH_FWD_TYPE_* constants. <dl class="return"><dt><b>Returns:</b></dt><dd>The L3 address of the best next-hop option, or an invalid L3 address (0) if no entry matches the destination. </dd></dl>
</li>
</ul>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 14 Jan 2014 for Fishnet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
